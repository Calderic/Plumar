---
interface Props {
  currentPath: string;
}

const { currentPath } = Astro.props;

// å¯¼èˆªèœå•é¡¹
const navItems = [
  { name: 'é¦–é¡µ', url: '/', icon: 'ğŸ ' },
  { name: 'åšå®¢', url: '/blog', icon: 'ğŸ“' },
  { name: 'æ ‡ç­¾', url: '/tags', icon: 'ğŸ·ï¸' },
  { name: 'å…³äº', url: '/about', icon: 'ğŸ‘¤' }
];

// åˆ¤æ–­å½“å‰é¡µé¢æ˜¯å¦ä¸ºæ´»è·ƒçŠ¶æ€
function isActive(itemUrl: string, currentPath: string): boolean {
  if (itemUrl === '/') {
    return currentPath === '/';
  }
  return currentPath.startsWith(itemUrl);
}
---

<nav class="main-navigation">
  <ul class="nav-list">
    {navItems.map((item) => (
      <li class="nav-item">
        <a 
          href={item.url} 
          class={`nav-link ${isActive(item.url, currentPath) ? 'active' : ''}`}
          aria-current={isActive(item.url, currentPath) ? 'page' : undefined}
        >
          <span class="nav-icon" aria-hidden="true">{item.icon}</span>
          <span class="nav-text">{item.name}</span>
        </a>
      </li>
    ))}
  </ul>
</nav>

<style>
  /* å¯¼èˆªå›¾æ ‡æ ·å¼ */
  .nav-icon {
    font-size: 1rem;
    line-height: 1;
  }
  
  .nav-text {
    font-size: 0.875rem;
  }
  
  /* ç§»åŠ¨ç«¯éšè—å›¾æ ‡ */
  @media (max-width: 480px) {
    .nav-icon {
      display: none;
    }
    
    .nav-link {
      gap: 0;
    }
  }
</style> 